#include <stdlib.h> 
#include <stdio.h>
#include <assert.h>
#include <stdbool.h>

#define NOMBRE 5

// Definition du type monnaie
// TODO 
struct monnaie{
    float valeur;
    char devise;
};
typedef struct monnaie monnaie;
/**
 * \brief Initialiser une monnaie 
 * \param[]
 * \pre valeur >0
 * // TODO
 */ 
void initialiser(monnaie monnaie, float valeur, char devise){
    // TODO
    assert(valeur >0 && (devise == 'e' || devise == '$'));
    monnaie.valeur=valeur;
    monnaie.devise=devise;
}


/**
 * \brief Ajouter une monnaie m2 à une monnaie m1 
 * \param[]
 * // TODO
 */ 
bool ajouter(monnaie m1, monnaie m2){
    // TODO
    if(m1.devise == m2.devise){
        m2.valeur=m2.valeur+m1.valeur;
    }
    return m1.devise == m2.devise;
}


/**
 * \brief Tester Initialiser 
 * \param[]
 * // TODO
 */ 
void tester_initialiser(){
    // TODO
    monnaie m;
    initialiser(m,15.0, 'e');
    assert( m.valeur==15.0 && m.devise=='e');
}

/**
 * \brief Tester Ajouter 
 * \param[]
 * // TODO
 */ 
void tester_ajouter(){
    // TODO
    monnaie m1,m2;
    initialiser(m1,15.5, 'e');
    initialiser(m2,20.0, '$');
    assert ( not (ajouter(m1,m2));
    initialiser(m2,20.0, 'e');
    assert( ajouter(m1,m2) && m2.valeur==35.5 && m1.valeur==15.5);
}



int main(void){
    // Un tableau de 5 monnaies
    // TODO
    monnaie porte_monnaie[NOMBRE];
    //Initialiser les monnaies
    // TODO
    float valeur;
    char devise;
    printf("Début du remplissage du tableau ...\n");
    for (int i=0; i<NOMBRE;i++){
        printf("Entrez une monnaie (valeur + devise) :\n");
        scanf("%f %c", &valeur, &devise);
        initialiser(porte_monnaie[i],valeur, devise);
    }
    printf("Fin du remplissage\n");
    // Afficher la somme des toutes les monnaies qui sont dans une devise entrée par l'utilisateur.
    // TODO
    printf("Entrez une devise: \n");
    scanf("%c", &devise);
    
    return EXIT_SUCCESS;
}
